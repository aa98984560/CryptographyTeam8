# CryptographyTeam8
æœ¬ç³»çµ±æ¡ç”¨ **äº’å‹•å¼é¸å–® (Interactive Menu)** è¨­è¨ˆï¼Œä¸¦è‡ªå‹•ç®¡ç† `data/` è³‡æ–™å¤¾ã€‚åŸ·è¡Œ `main.exe` (æˆ– `hybrid_system.exe`) å¾Œï¼Œè«‹ä¾ä»¥ä¸‹æ­¥é©Ÿæ“ä½œã€‚

0. å‰ç½®æº–å‚™
* ç¨‹å¼å•Ÿå‹•å¾Œï¼Œæœƒè‡ªå‹•åœ¨æ ¹ç›®éŒ„å»ºç«‹ `data/` è³‡æ–™å¤¾ã€‚
* **æ³¨æ„ï¼š** æ‰€æœ‰æ¬²åŠ å¯†çš„åŸå§‹æª”æ¡ˆï¼ˆå¦‚åœ–ç‰‡ã€æ–‡å­—æª”ï¼‰ï¼Œè«‹å‹™å¿…å…ˆæ‰‹å‹•æ”¾å…¥ `data/` è³‡æ–™å¤¾ä¸­ï¼Œç¨‹å¼æ‰èƒ½è®€å–ã€‚

1. åˆå§‹è¨­å®šï¼šç”Ÿæˆ RSA é‡‘é‘°
é¦–æ¬¡ä½¿ç”¨å¿…é ˆå…ˆç”¢ç”Ÿ RSA å…¬ç§é‘°å°ã€‚
1. åœ¨ä¸»é¸å–®é¸æ“‡ `1` (ç”Ÿæˆæ–° RSA é‡‘é‘°)ã€‚
2. è¼¸å…¥æ¬²å„²å­˜çš„é‡‘é‘°æª”å (ä¾‹å¦‚ `alice_key.txt`)ï¼›è‹¥ç›´æ¥æŒ‰ Enterï¼Œå‰‡ä½¿ç”¨é è¨­å€¼ `rsa_keypair.txt`ã€‚
3. ç³»çµ±é¡¯ç¤º `[æˆåŠŸ]` å¾Œï¼Œé‡‘é‘°æª”æ¡ˆæœƒç”¢ç”Ÿæ–¼ `data/` ç›®éŒ„ä¸‹ã€‚

2. åŠ å¯†æµç¨‹ç¯„ä¾‹ (Sender Role)
å‡è¨­ä½ è¦åŠ å¯†ä¸€å¼µåç‚º `test.jpg` çš„åœ–ç‰‡ï¼š
1. åœ¨ä¸»é¸å–®é¸æ“‡ `3` (åŠ å¯†æª”æ¡ˆ)ã€‚
2. **è¼¸å…¥åŸå§‹æª”å**ï¼šè¼¸å…¥ `test.jpg` (è‹¥å¿˜è¨˜æª”åï¼Œå¯è¼¸å…¥ `?` æŸ¥çœ‹ `data/` ç›®éŒ„ä¸‹çš„æª”æ¡ˆåˆ—è¡¨)ã€‚
3. **è¼¸å…¥è¼¸å‡ºæª”å**ï¼šè¨­å®šåŠ å¯†å¾Œçš„æª”åï¼Œä¾‹å¦‚ `secret.serpent` (ç›´æ¥æŒ‰ Enter æœƒä½¿ç”¨é è¨­å€¼)ã€‚
4. **è¼¸å…¥é‡‘é‘°æª”å**ï¼šè¨­å®š Session Key çš„å„²å­˜æª”åï¼Œä¾‹å¦‚ `session.key`ã€‚
5. ç³»çµ±æœƒè‡ªå‹•åŸ·è¡Œï¼š
   * ç”Ÿæˆ 256-bit éš¨æ©Ÿ Session Keyã€‚
   * ä½¿ç”¨ RSA å…¬é‘°åŠ å¯† Session Key -> å­˜æª”ã€‚
   * ä½¿ç”¨ Session Key + Serpent æ¼”ç®—æ³•åŠ å¯†æª”æ¡ˆ -> å­˜æª”ã€‚

3. è§£å¯†æµç¨‹ç¯„ä¾‹ (Receiver Role)
å‡è¨­ä½ æ”¶åˆ°äº†ä¸€å€‹åŠ å¯†æª” `secret.serpent` å’Œé‡‘é‘°æª” `session.key`ï¼š
1. ç¢ºä¿é€™å…©å€‹æª”æ¡ˆéƒ½åœ¨ `data/` è³‡æ–™å¤¾å…§ã€‚
2. ç¢ºä¿ä½ å·²ç¶“è¼‰å…¥æ­£ç¢ºçš„ RSA é‡‘é‘° (å¯ä½¿ç”¨é¸å–® `2` è¼‰å…¥)ã€‚
3. åœ¨ä¸»é¸å–®é¸æ“‡ `4` (è§£å¯†æª”æ¡ˆ)ã€‚
4. **è¼¸å…¥åŠ å¯†æª”å**ï¼šè¼¸å…¥ `secret.serpent`ã€‚
5. **è¼¸å…¥é‡‘é‘°æª”å**ï¼šè¼¸å…¥ `session.key`ã€‚
6. **è¼¸å…¥è¼¸å‡ºæª”å**ï¼šè¼¸å…¥è§£å¯†å¾Œè¦å­˜æˆçš„æª”åï¼Œä¾‹å¦‚ `restored.jpg`ã€‚
7. ç³»çµ±é¡¯ç¤º `[æˆåŠŸ] è§£å¯†å®Œæˆ` å¾Œï¼Œå³å¯è‡³ `data/` è³‡æ–™å¤¾æŸ¥çœ‹é‚„åŸçš„æª”æ¡ˆã€‚

### ğŸ’¡ å°æŠ€å·§ (Tips)
* **æŸ¥è©¢æª”æ¡ˆ**ï¼šåœ¨ä»»ä½•éœ€è¦è¼¸å…¥æª”åçš„æ­¥é©Ÿï¼Œè¼¸å…¥ `?` ä¸¦æŒ‰ Enterï¼Œç³»çµ±æœƒåˆ—å‡ºç›®å‰ `data/` è³‡æ–™å¤¾å…§çš„æ‰€æœ‰æª”æ¡ˆï¼Œæ–¹ä¾¿è¤‡è£½æª”åã€‚
* **å¤šé‡‘é‘°ç®¡ç†**ï¼šä½ å¯ä»¥ç”Ÿæˆå¤šçµ„ä¸åŒåç¨±çš„é‡‘é‘° (å¦‚ `key_A.txt`, `key_B.txt`)ï¼Œä¸¦é€éé¸å–® `2` åˆ‡æ›ç•¶å‰ä½¿ç”¨çš„èº«ä»½ã€‚
ç·¨è­¯æŒ‡ä»¤:g++ -std=c++17 main.cpp modules/rsa.cpp modules/serpent.cpp modules/SHA256.cpp -lgmpxx -lgmp -o è¼¸å‡ºæª”æ¡ˆåç¨±.exe
ä»¥ä¸‹æ˜¯åŸºæœ¬è³‡è¨Š
______________________________________________________________________________________________________________
RSAç”¨æ³•ç¯„ä¾‹:

```cpp
#include <iostream>
#include "rsa.hpp"   

int main() {
    // 1. ç”¢ç”Ÿ RSA é‡‘é‘°ï¼ˆ1024 or 2048ï¼‰
    RSAKey key = rsa_keygen(1024);

    // 2. å‡è¨­é€™æ˜¯ä¸€å€‹ Serpent ç”¢ç”Ÿçš„ session key
    mpz_class session_key = random_bits(128);

    // 3. ç”¨ RSA åŠ å¯† session key
    mpz_class encrypted_key = rsa_encrypt(session_key, key);

    // 4. ç”¨ RSA è§£å¯† session keyï¼ˆé©—è­‰ï¼‰
    mpz_class decrypted_key = rsa_decrypt(encrypted_key, key);

    // 5. é¡¯ç¤ºçµæœ
    std::cout << "Original session key : " << session_key << std::endl;
    std::cout << "Encrypted key        : " << encrypted_key << std::endl;
    std::cout << "Decrypted key        : " << decrypted_key << std::endl;

    return 0;
}
______________________________________________________________________________________________________________

serpentå°ç¨±åŠ å¯†ä½¿ç”¨ç¯„ä¾‹:

step 1 :Serpent cipher; //å°‡classå¯¦ä¾‹åŒ–
	cipher.setKey(session_key); // è‡ªå‹•è½‰åŒ–ç‚º 33 çµ„å­é‡‘é‘°(mpz_classçš„session key))

step 2 :cipher.encryptFile("åŸå§‹æª”æ¡ˆ.jpg", "åŠ å¯†æª”.serpent");

step 3 :cipher.decryptFile("åŠ å¯†æª”.serpent", "é‚„åŸæª”æ¡ˆ.jpg");

æˆ‘æœ‰é™„ä¸Šä¸€å€‹test.cppä¾†æ¸¬è©¦RSAå’ŒSERPENTçš„åŠŸèƒ½æ˜¯å¦æ­£å¸¸ï¼Œå¯ä»¥è©¦è©¦
g++ -std=c++17 test.cpp modules/rsa.cpp modules/serpent.cpp -lgmpxx -lgmp -o test_suite.exe

æª¢æ¸¬steps
step 1 :åŸ·è¡Œ test_suite.exeã€‚

step 2 :ç¨‹å¼æœƒè‡ªå‹•åœ¨ data/ è³‡æ–™å¤¾ä¸­ç”Ÿæˆæ¸¬è©¦æª”ã€RSA é‡‘é‘°äº¤æ›ã€ä¸¦é€²è¡ŒåŠ è§£å¯†é©—è­‰ã€‚

step 3 :è‹¥é¡¯ç¤ºã€Œæ··åˆåŠ å¯†ç³»çµ±æ¸¬è©¦å®Œå…¨æˆåŠŸã€ï¼Œä»£è¡¨æ‰€æœ‰æ¨¡çµ„é‹ä½œæ­£å¸¸
______________________________________________________________________________________________________________
